---
name: Dropdown
menu: Components
---

import { Fragment } from 'react'
import Dropdown from '@emcasa/ui-dom/components/Dropdown'
import View from '@emcasa/ui-dom/components/View'
import Row from '@emcasa/ui-dom/components/Row'
import Text from '@emcasa/ui-dom/components/Text'
import Icon from '@emcasa/ui-dom/components/Icon'
import ItunesSearch from './ItunesSearch'

# Dropdown
Single-select collapsible listbox that expands when activated, similar to HTML select.
The Dropdown displays a list of actions or options to a user.


<View mb="60px"></View>

---

<View mt="60px"></View>

## Usage
### Basic usage
```JS
import Dropdown from '@emcasa/ui-dom/components/Dropdown'

<Dropdown onChange={FUNCTION}>
  <Dropdown.Option value="VALUE">LABEL</Dropdown.Option>
  ...
</Dropdown>
```
<Dropdown onChange={(value) => console.log('selected', value)}>
  <Dropdown.Option value="a">Label for Option A</Dropdown.Option>
  <Dropdown.Option value="b">Label for option B</Dropdown.Option>
  <Dropdown.Option value="c">Trying to generate a truncate value with ellipsis for option C</Dropdown.Option>
  <Dropdown.Option value="d">Label for option D</Dropdown.Option>
  <Dropdown.Option value="e">Label for option E</Dropdown.Option>
</Dropdown>

<View my="60px"></View>

### Dropdown with placeholder
```JS
<Dropdown placeholder="Placeholder"></Dropdown>
```
<Dropdown placeholder="Placeholder">
  <Dropdown.Option value="a">Option A</Dropdown.Option>
  <Dropdown.Option value="b">Option B</Dropdown.Option>
  <Dropdown.Option value="c" label="Label for option C">Option C</Dropdown.Option>
  <Dropdown.Option value="d">Option D</Dropdown.Option>
  <Dropdown.Option value="e">Option E</Dropdown.Option>
</Dropdown>

<View my="40px"></View>

### Dropdown with fixed label
```JS
<Dropdown label="Fixed label"></Dropdown>
```
<Dropdown label="Fixed label">
  <Dropdown.Option value="a">Option A</Dropdown.Option>
  <Dropdown.Option value="b">Option B</Dropdown.Option>
  <Dropdown.Option value="c">Option C</Dropdown.Option>
</Dropdown>

<View my="40px"></View>

### Height "short"
```JS
<Dropdown height="short"></Dropdown>
```
<Dropdown height="short" placeholder="Placeholder">
  <Dropdown.Option value="a">Option A</Dropdown.Option>
  <Dropdown.Option value="b">Option B</Dropdown.Option>
  <Dropdown.Option value="c" label="Label for option C">Option C</Dropdown.Option>
  <Dropdown.Option value="d">Option D</Dropdown.Option>
  <Dropdown.Option value="e">Option E</Dropdown.Option>
</Dropdown>

<View my="40px"></View>

### Height "tall"
```JS
<Dropdown height="tall"></Dropdown>
```
<Dropdown height="tall" placeholder="Placeholder">
  <Dropdown.Option value="a">Option A</Dropdown.Option>
  <Dropdown.Option value="b">Option B</Dropdown.Option>
  <Dropdown.Option value="c" label="Label for option C">Option C</Dropdown.Option>
  <Dropdown.Option value="d">Option D</Dropdown.Option>
  <Dropdown.Option value="e">Option E</Dropdown.Option>
</Dropdown>

<View my="40px"></View>

### Advanced usage
```JS
  <Dropdown
    label={{
      props: {
        onChange: (e) => onChange(e.target.value)
      }
    }}></Dropdown>
```
<ItunesSearch>
  {({search, results, onChange}) => (
    <Dropdown
      placeholder="Input text placeholder"
      height="tall"
      label={{
        props: {
          onChange: (e) => onChange(e.target.value)
        }
      }}>
      {results && results.length ? (
        results.map(({collectionId, artworkUrl60, artistName, collectionName}) => (
          <Dropdown.Option key={collectionId} value={collectionId}>
            <View mr="15px">
              <img src={artworkUrl60} height="30px" width="30px" />
            </View>
            {artistName} - {collectionName}
          </Dropdown.Option>
        ))
      ) : search.length ? (
        <View px="4">
          <Text>No results for "{search}"</Text>
        </View>
      ) : (
        <View px="4">
          <Text>Start typing to search albums</Text>
        </View>
      )}
    </Dropdown>
  )}
</ItunesSearch>

> Note: It still suport passing a input element tag in *label* props, but it just take its props.


<View mb="60px"></View>

---

<View mt="60px"></View>

## HTML Source Code

It follows the W3C Listbox patterns
- [W3 Collapsible Dropdown Listbox](https://www.w3.org/TR/wai-aria-practices-1.1//#Listbox)
- [MDN ARIA: listbox role](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/listbox_role)

```HTML
<div>
  <div>
    <[button | input] id="btn" aria-labelledby="btn" aria-haspopup="listbox" aria-controls="droplist" aria-expanded="true | null">
      Option B
    </[button | input]>
    <div>
      <svg />
    </div>
  </div>
  <ul id="droplist" tabindex="-1" role="listbox">
    <li role="option" aria-selected="false">
      Option A
    </li>
    <li role="option" aria-selected="true">
      Option B
    </li>
    <li role="option" aria-selected="false">
      Option C
    </li>
  </ul>
</div>
```

> ðŸ’¡ Pretty nice to have: [keyboard interaction and multiple selection](https://www.w3.org/TR/wai-aria-practices-1.1//#listbox_kbd_interaction)
